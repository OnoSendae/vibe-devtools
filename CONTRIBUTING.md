# Guia de Contribui√ß√£o

Obrigado pelo interesse em contribuir para o **Vibe DevTools**! Este documento detalha como voc√™ pode participar e ajudar a melhorar o ecosystem.

---

## üìã √çndice

- [C√≥digo de Conduta](#c√≥digo-de-conduta)
- [Como Posso Contribuir?](#como-posso-contribuir)
- [Reportando Bugs](#reportando-bugs)
- [Sugerindo Features](#sugerindo-features)
- [Contribuindo com C√≥digo](#contribuindo-com-c√≥digo)
- [Criando Vibes](#criando-vibes)
- [Processo de Pull Request](#processo-de-pull-request)
- [Padr√µes de C√≥digo](#padr√µes-de-c√≥digo)
- [Estrutura do Projeto](#estrutura-do-projeto)
- [Ambiente de Desenvolvimento](#ambiente-de-desenvolvimento)
- [Testes](#testes)
- [Commit Messages](#commit-messages)
- [Processo de Review](#processo-de-review)

---

## C√≥digo de Conduta

Este projeto adota o [Contributor Covenant Code of Conduct](./CODE_OF_CONDUCT.md). Ao participar, voc√™ concorda em respeitar este c√≥digo.

Por favor, reporte comportamentos inaceit√°veis para [clebercleberhensel@gmail.com](mailto:clebercleberhensel@gmail.com).

---

## Como Posso Contribuir?

Existem v√°rias formas de contribuir:

### 1. Reportar Bugs üêõ

Encontrou um bug? [Abra um issue](https://github.com/OnoSendae/vibe-devtools/issues/new?template=bug_report.md).

### 2. Sugerir Features ‚ú®

Tem uma ideia? [Abra uma discussion](https://github.com/OnoSendae/vibe-devtools/discussions) ou [crie um feature request](https://github.com/OnoSendae/vibe-devtools/issues/new?template=feature_request.md).

### 3. Melhorar Documenta√ß√£o üìö

Documenta√ß√£o nunca √© demais! Corrija typos, adicione exemplos ou expanda guias.

### 4. Contribuir com C√≥digo üíª

Implemente features, corrija bugs ou melhore performance.

### 5. Criar Vibes üé®

A maior contribui√ß√£o: **crie e compartilhe vibes customizados**!

---

## Reportando Bugs

### Antes de Reportar

- Verifique a [lista de issues](https://github.com/OnoSendae/vibe-devtools/issues) para ver se j√° foi reportado
- Tente reproduzir com a vers√£o mais recente
- Colete informa√ß√µes de debug (vers√µes, logs, screenshots)

### Como Reportar

Use o [template de bug report](https://github.com/OnoSendae/vibe-devtools/issues/new?template=bug_report.md).

**Informa√ß√µes essenciais**:
- Vers√£o da CLI (`vdt --version`)
- Vers√£o do package afetado
- Sistema operacional e vers√£o
- Node.js version (`node -v`)
- Passos para reproduzir
- Comportamento esperado vs atual
- Logs de erro (se houver)

**Exemplo bom**:
```markdown
## Bug Report

**Vers√µes**:
- vibe-devtools: 0.4.1
- @vibe-devtools/basic: 1.0.1
- Node.js: 20.10.0
- OS: macOS 14.0

**Passos para reproduzir**:
1. `vdt install @vibe-devtools/basic`
2. Observar erro: "EACCES: permission denied"

**Esperado**: Instala√ß√£o bem-sucedida
**Atual**: Erro de permiss√£o

**Logs**:
\`\`\`
Error: EACCES: permission denied, mkdir '~/.vibes'
\`\`\`
```

---

## Sugerindo Features

### Antes de Sugerir

- Verifique se j√° existe issue/discussion sobre isso
- Verifique o [roadmap](./README.md#-roadmap) para ver se est√° planejado
- Pense bem no **problema** que a feature resolve (n√£o s√≥ na solu√ß√£o)

### Como Sugerir

Use o [template de feature request](https://github.com/OnoSendae/vibe-devtools/issues/new?template=feature_request.md).

**Estrutura boa**:
```markdown
## Feature Request

**Problema**: Como desenvolvedor, perco tempo repetindo X toda vez

**Solu√ß√£o proposta**: Criar command /do.x que automatiza isso

**Alternativas consideradas**: 
- Fazer manualmente (atual)
- Usar script bash (n√£o reutiliz√°vel)

**Benef√≠cios**:
- Economia de 30 min/dia
- Consist√™ncia 100%
- Reutiliz√°vel em todos os projetos
```

---

## Contribuindo com C√≥digo

### Workflow Geral

```bash
1. Fork o reposit√≥rio
2. Clone seu fork
3. Crie uma branch
4. Desenvolva
5. Teste
6. Commit (conventional commits)
7. Push
8. Abra Pull Request
```

### Passo a Passo Detalhado

#### 1. Fork e Clone

```bash
# Fork via GitHub UI

# Clone seu fork
git clone https://github.com/SEU-USERNAME/vibe-devtools.git
cd vibe-devtools

# Adicione upstream
git remote add upstream https://github.com/onosendae/vibe-devtools.git
```

#### 2. Criar Branch

```bash
# Sincronize com upstream
git checkout main
git pull upstream main

# Crie branch descritiva
git checkout -b feat/add-list-all-command
git checkout -b fix/symlink-windows-issue
git checkout -b docs/improve-readme
```

**Conven√ß√£o de nomes**:
- `feat/` - Nova feature
- `fix/` - Bug fix
- `docs/` - Documenta√ß√£o
- `refactor/` - Refactoring
- `test/` - Testes
- `chore/` - Manuten√ß√£o

#### 3. Desenvolver

```bash
# Instalar depend√™ncias
pnpm install

# Desenvolver sua mudan√ßa
# ... c√≥digo aqui ...

# Build
pnpm build

# Testar localmente
cd apps/cli
npm link
vdt --version  # Testar CLI
```

#### 4. Criar Changeset

**OBRIGAT√ìRIO** para qualquer mudan√ßa que afeta packages publicados:

```bash
pnpm changeset

# Selecione packages afetados
# Escolha tipo de mudan√ßa:
#   - patch: Bug fixes, typos
#   - minor: Nova feature (backward compatible)
#   - major: Breaking changes

# Escreva descri√ß√£o clara da mudan√ßa
```

**Exemplo**:
```bash
$ pnpm changeset
ü¶ã  Which packages would you like to include?
‚óâ @vibe-devtools/basic
‚óØ @vibe-devtools/research
‚óØ vibe-devtools

ü¶ã  What kind of change is this for @vibe-devtools/basic?
‚óØ patch
‚óâ minor
‚óØ major

ü¶ã  Please enter a summary for this change:
Add /list.all command to show all available commands
```

#### 5. Commit

```bash
git add .
git commit -m "feat(cli): add list all command"
```

Veja [Commit Messages](#commit-messages) para conven√ß√µes.

#### 6. Push e PR

```bash
git push origin feat/add-list-all-command
```

Abra Pull Request no GitHub seguindo o [template](#processo-de-pull-request).

---

## Criando Vibes

A **melhor forma de contribuir** √© criar vibes que estendem o ecosystem!

### Estrutura M√≠nima

```
my-vibe/
‚îú‚îÄ‚îÄ vibe.json              # Manifest
‚îú‚îÄ‚îÄ package.json           # NPM metadata
‚îú‚îÄ‚îÄ README.md              # Documenta√ß√£o
‚îú‚îÄ‚îÄ .cursor/
‚îÇ   ‚îú‚îÄ‚îÄ commands/          # Commands do vibe
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ my-command.md
‚îÇ   ‚îî‚îÄ‚îÄ rules/             # Rules (opcional)
‚îÇ       ‚îî‚îÄ‚îÄ my-rules.mdc
‚îî‚îÄ‚îÄ templates/             # Templates (opcional)
    ‚îî‚îÄ‚îÄ my-template.md
```

### vibe.json

```json
{
  "name": "my-vibe",
  "version": "1.0.0",
  "description": "My awesome vibe description",
  "author": "Your Name",
  "license": "MIT",
  "symlinks": {
    ".cursor/commands": ".cursor/commands",
    ".cursor/rules": ".cursor/rules",
    "templates": "templates"
  },
  "commands": [
    {
      "name": "my-command",
      "category": "automation",
      "description": "Does something awesome"
    }
  ]
}
```

### package.json

```json
{
  "name": "@yourorg/my-vibe",
  "version": "1.0.0",
  "description": "My awesome vibe",
  "keywords": ["vibe-devtools", "vibe", "automation"],
  "files": [
    ".cursor/",
    "templates/",
    "README.md",
    "vibe.json"
  ],
  "publishConfig": {
    "access": "public"
  }
}
```

### Testar Localmente

```bash
# Instalar do diret√≥rio local
vdt install ./my-vibe

# Verificar
vdt list

# Usar
# /my-command
```

### Publicar

```bash
cd my-vibe
npm publish
```

### Compartilhar

Ap√≥s publicar:
1. Adicione tag `vibe-devtools` no npm
2. Crie issue no repo principal linkando seu vibe
3. Compartilhe no Discord/Twitter/Discussions

---

## Processo de Pull Request

### Template de PR

Ao abrir PR, preencha completamente o template:

```markdown
## Descri√ß√£o

Descreva claramente o que muda e por qu√™.

## Tipo de Mudan√ßa

- [ ] Bug fix (patch)
- [ ] Nova feature (minor)
- [ ] Breaking change (major)
- [ ] Documenta√ß√£o

## Mudan√ßas Espec√≠ficas

- Lista de mudan√ßas pontuais
- Arquivos principais afetados
- Comportamentos novos/modificados

## Checklist

- [ ] C√≥digo segue padr√µes do projeto
- [ ] Changeset criado (se aplic√°vel)
- [ ] Testes adicionados/atualizados
- [ ] Documenta√ß√£o atualizada
- [ ] Testado localmente
- [ ] Build passa sem erros
- [ ] Nenhum lint warning

## Testing

Como testar suas mudan√ßas:
\`\`\`bash
vdt install ./packages/basic
# testar...
\`\`\`

## Screenshots

(Se aplic√°vel)
```

### Crit√©rios de Aprova√ß√£o

Para PR ser aprovada:

‚úÖ **Code Quality**:
- Segue [padr√µes de c√≥digo](#padr√µes-de-c√≥digo)
- Sem lint errors/warnings
- Build passa

‚úÖ **Testes**:
- Testes existentes passam
- Novos testes para nova funcionalidade
- Coverage n√£o diminui

‚úÖ **Documenta√ß√£o**:
- README atualizado (se feature nova)
- Inline comments (quando necess√°rio)
- CHANGELOG via changeset

‚úÖ **Changeset**:
- Criado para mudan√ßas em packages
- Descri√ß√£o clara
- Tipo correto (patch/minor/major)

‚úÖ **Commits**:
- Seguem [Conventional Commits](#commit-messages)
- Mensagens claras e descritivas

### Processo de Review

1. **Automated Checks**: CI roda build + tests
2. **Code Review**: Maintainer revisa c√≥digo
3. **Feedback**: Mudan√ßas solicitadas (se necess√°rio)
4. **Itera√ß√£o**: Voc√™ aplica feedback
5. **Aprova√ß√£o**: Maintainer aprova
6. **Merge**: Squash and merge para `main`

**Tempo de resposta esperado**: 1-3 dias √∫teis

---

## Padr√µes de C√≥digo

### TypeScript Style

- **Naming**:
  - `camelCase` para vari√°veis e fun√ß√µes
  - `PascalCase` para classes e interfaces
  - `UPPER_SNAKE_CASE` para constantes
  - `kebab-case` para arquivos

- **Imports**: Ordenados (built-in ‚Üí external ‚Üí internal)

```typescript
import fs from 'fs';
import path from 'path';

import chalk from 'chalk';
import ora from 'ora';

import { installVibe } from '../installers/vibe-installer';
import { logger } from '../utils/logger';
```

- **Types**: Preferir interfaces para objetos, types para unions/primitives

```typescript
interface VibeConfig {
  name: string;
  version: string;
}

type Status = 'pending' | 'success' | 'error';
```

- **Error Handling**: Sempre tratar erros explicitamente

```typescript
try {
  await installVibe(source);
} catch (error) {
  if (error instanceof VibeInstallError) {
    logger.error(error.message);
  } else {
    logger.error('Unexpected error', error);
  }
  throw error;
}
```

### Markdown (Commands/Rules)

- Seguir [template universal](./shared/templates/template.commands.md)
- Frontmatter YAML v√°lido
- Se√ß√µes obrigat√≥rias presentes
- Examples realistas

### Organiza√ß√£o de Arquivos

```
apps/cli/src/
‚îú‚îÄ‚îÄ commands/          # Commands do CLI
‚îÇ   ‚îú‚îÄ‚îÄ install.ts
‚îÇ   ‚îî‚îÄ‚îÄ list.ts
‚îú‚îÄ‚îÄ installers/        # L√≥gica de instala√ß√£o
‚îÇ   ‚îî‚îÄ‚îÄ vibe-installer.ts
‚îî‚îÄ‚îÄ utils/             # Utilit√°rios
    ‚îú‚îÄ‚îÄ logger.ts
    ‚îî‚îÄ‚îÄ symlink-manager.ts
```

---

## Estrutura do Projeto

### Monorepo (pnpm workspaces)

```
vibes-ecosystem/
‚îú‚îÄ‚îÄ apps/
‚îÇ   ‚îî‚îÄ‚îÄ cli/                    # vibe-devtools CLI
‚îÇ       ‚îú‚îÄ‚îÄ src/
‚îÇ       ‚îú‚îÄ‚îÄ dist/
‚îÇ       ‚îî‚îÄ‚îÄ package.json
‚îÇ
‚îú‚îÄ‚îÄ packages/
‚îÇ   ‚îú‚îÄ‚îÄ basic/                  # @vibe-devtools/basic
‚îÇ   ‚îú‚îÄ‚îÄ research/               # @vibe-devtools/research
‚îÇ   ‚îî‚îÄ‚îÄ [future packages...]
‚îÇ
‚îú‚îÄ‚îÄ shared/
‚îÇ   ‚îú‚îÄ‚îÄ templates/              # Templates compartilhados
‚îÇ   ‚îî‚îÄ‚îÄ schemas/                # JSON schemas
‚îÇ
‚îú‚îÄ‚îÄ docs/                       # Documenta√ß√£o
‚îú‚îÄ‚îÄ .github/workflows/          # CI/CD
‚îî‚îÄ‚îÄ package.json                # Monorepo root
```

### Packages Principais

| Package | Descri√ß√£o | Path |
|---------|-----------|------|
| `vibe-devtools` | CLI | `apps/cli/` |
| `@vibe-devtools/basic` | Foundation kit | `packages/basic/` |
| `@vibe-devtools/research` | Research kit | `packages/research/` |

---

## Ambiente de Desenvolvimento

### Pr√©-requisitos

- **Node.js**: 18.x ou superior
- **pnpm**: 8.x ou superior
- **Git**: 2.x ou superior

### Setup

```bash
# Clone
git clone https://github.com/SEU-USERNAME/vibe-devtools.git
cd vibe-devtools

# Instalar pnpm (se n√£o tiver)
npm install -g pnpm

# Instalar depend√™ncias
pnpm install

# Build todos packages
pnpm build

# Linkar CLI localmente
cd apps/cli
npm link

# Testar
vdt --version
```

### Scripts Principais

```bash
# Build all
pnpm build

# Build watch mode
pnpm build --watch

# Lint
pnpm lint

# Fix lint
pnpm lint:fix

# Test (quando implementado)
pnpm test

# Criar changeset
pnpm changeset
```

### Desenvolvimento da CLI

```bash
cd apps/cli

# Build
npm run build

# Watch mode
npm run dev

# Link globalmente
npm link

# Testar
vdt install ./../../packages/basic
```

### Desenvolvimento de Package

```bash
cd packages/basic

# Editar commands
vi .cursor/commands/maker.command.md

# Testar
vdt install .
# No Cursor: /maker.command
```

---

## Testes

### Testes Manuais (Atual)

Por enquanto, testes s√£o manuais:

```bash
# CLI
vdt install @vibe-devtools/basic
vdt list
vdt uninstall basic

# Packages
cd my-project
vdt install @vibe-devtools/basic
# Testar commands no Cursor
```

### Testes Automatizados (Futuro)

Planejado:
- Unit tests (Vitest)
- Integration tests
- E2E tests

**Contribui√ß√µes de testes s√£o super bem-vindas!**

---

## Commit Messages

Seguimos [Conventional Commits](https://www.conventionalcommits.org/).

### Format

```
<type>(<scope>): <subject>

<body>

<footer>
```

### Types

- `feat`: Nova feature
- `fix`: Bug fix
- `docs`: Documenta√ß√£o
- `refactor`: Refactoring
- `test`: Testes
- `chore`: Manuten√ß√£o
- `ci`: CI/CD
- `perf`: Performance

### Scopes

- `cli`: CLI tool
- `basic`: Basic package
- `research`: Research package
- `docs`: Documentation
- `workflow`: GitHub Actions

### Examples

```bash
# Feature
feat(cli): add list all command

# Bug fix
fix(cli): resolve symlink permission error on Windows

# Documentation
docs(basic): improve maker.command examples

# Breaking change
feat(cli)!: change install command API

BREAKING CHANGE: install command now requires explicit source type
```

---

## Processo de Review

### Para Reviewers

Ao revisar PR, verificar:

**Funcionalidade**:
- [ ] Mudan√ßa resolve issue/feature request?
- [ ] Testes passam?
- [ ] Sem side effects indesejados?

**C√≥digo**:
- [ ] Segue padr√µes do projeto?
- [ ] F√°cil de entender?
- [ ] Coment√°rios onde necess√°rio?
- [ ] Sem c√≥digo morto?

**Documenta√ß√£o**:
- [ ] README atualizado?
- [ ] Exemplos adicionados?
- [ ] Changeset criado?

**Performance**:
- [ ] Sem regress√µes de performance?
- [ ] Uso eficiente de recursos?

### Feedback Construtivo

Ao dar feedback:
- ‚úÖ Seja espec√≠fico: "Fun√ß√£o X poderia usar async/await" vs "C√≥digo ruim"
- ‚úÖ Explique o porqu√™: "Isso melhora legibilidade porque..."
- ‚úÖ Sugira solu√ß√µes: "Que tal refatorar usando Y?"
- ‚ùå Evite julgamentos: "Voc√™ n√£o sabe fazer isso?"

### Approval

Para aprovar:
```markdown
LGTM! üöÄ

C√≥digo limpo, testes passam, documenta√ß√£o completa.
```

Para solicitar mudan√ßas:
```markdown
Quase l√°! Algumas sugest√µes:

1. **performance.ts:45** - Considere usar Map ao inv√©s de objeto para lookup
2. **README.md** - Adicionar exemplo de uso
3. **Changeset** - Falta criar changeset

Ap√≥s essas mudan√ßas, aprovo! üëç
```

---

## Licen√ßa

Ao contribuir, voc√™ concorda que suas contribui√ß√µes ser√£o licenciadas sob a [MIT License](./LICENSE).

---

## D√∫vidas?

- **GitHub Discussions**: https://github.com/onosendae/vibe-devtools/discussions
- **Email**: clebercleberhensel@gmail.com

---

**Obrigado por contribuir para tornar o Vibe DevTools ainda melhor! üöÄ‚ú®**

